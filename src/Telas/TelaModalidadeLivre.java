/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package Telas;

import Negocio.Aluno;
import Negocio.Matricula;
import Negocio.Modalidade;
import Negocio.ModalidadeDiaria;
import Negocio.ModalidadeLivre;
import Negocio.Pagamento;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;
import javax.swing.JOptionPane;
import sun.security.jgss.GSSCaller;

/**
 *
 * @author ANA
 */
public class TelaModalidadeLivre extends javax.swing.JFrame {

    /**
     * Creates new form TelaAluno
     */

    private ArrayList<Aluno> listaAluno = new ArrayList<>();
    private ArrayList<String> nomeModalidades = new ArrayList<>();
    private ArrayList<Modalidade> listaModalidade = new ArrayList<>();
    private ArrayList<Matricula> listaMatricula = new ArrayList<>();

    /*Somatória valor total*/
    private float valorModalidade;

    public float getValorTotal(){
        return valorModalidade;
    }

    public void somaValorModalidade(float valorModalidade) {
        this.valorModalidade =+ valorModalidade;
    }
    /**/

    public TelaModalidadeLivre(ArrayList<Aluno> lista, ArrayList<Modalidade> modalidade, ArrayList<Matricula> matricula) {
        initComponents();
        this.listaAluno = lista;
        this.listaModalidade = modalidade;
        this.listaMatricula = matricula;

        preencheListaPaciente();
    }
       
    public void preencheListaPaciente(){
        for (int i=0; i< listaAluno.size();i++)
            campoAluno.addItem(listaAluno.get(i).getNome());
    }
     /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        grupoTurno = new javax.swing.ButtonGroup();
        jMenu1 = new javax.swing.JMenu();
        botaoSalvar = new javax.swing.JButton();
        tituloTela3 = new javax.swing.JLabel();
        campoLogin = new javax.swing.JTextField();
        campoSenha = new javax.swing.JPasswordField();
        labelNome8 = new javax.swing.JLabel();
        labelNome7 = new javax.swing.JLabel();
        tituloTela1 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        Tabela1 = new javax.swing.JTable();
        crossfit = new javax.swing.JCheckBox();
        musculacao = new javax.swing.JCheckBox();
        pilates = new javax.swing.JCheckBox();
        labelEndereco2 = new javax.swing.JLabel();
        campoDataPagamento = new javax.swing.JFormattedTextField();
        campoAluno = new javax.swing.JComboBox<>();

        jMenu1.setText("jMenu1");

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Tela de Aluno");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowOpened(java.awt.event.WindowEvent evt) {
                formWindowOpened(evt);
            }
        });

        botaoSalvar.setText("Inserir");
        botaoSalvar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botaoSalvarActionPerformed(evt);
            }
        });

        tituloTela3.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        tituloTela3.setText("Credenciais de acesso");

        campoLogin.setName("campoLogin"); // NOI18N
        campoLogin.setOpaque(true);

        campoSenha.setText("jPasswordField1");
        campoSenha.setName("campoSenha"); // NOI18N

        labelNome8.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        labelNome8.setText("Senha");
        labelNome8.setName("senha"); // NOI18N

        labelNome7.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        labelNome7.setText("Login");
        labelNome7.setName("login"); // NOI18N

        tituloTela1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        tituloTela1.setText("Modalidade livre");

        Tabela1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {"Pilates", "R$ 200,00"},
                {"Musculação", "R$ 250,00"},
                {"Crossfit", "R$ 100,00"}
            },
            new String [] {
                "Nome", "Preço"
            }
        ));
        Tabela1.setColumnSelectionAllowed(true);
        jScrollPane3.setViewportView(Tabela1);

        crossfit.setText("Crossfit");
        crossfit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                crossfitActionPerformed(evt);
            }
        });

        musculacao.setText("Musculação");
        musculacao.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                musculacaoActionPerformed(evt);
            }
        });

        pilates.setText("Pilates");
        pilates.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pilatesActionPerformed(evt);
            }
        });

        labelEndereco2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        labelEndereco2.setText("Data de pagamento");
        labelEndereco2.setName("dataIngresso"); // NOI18N

        try {
            campoDataPagamento.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.MaskFormatter("##/##/####")));
        } catch (java.text.ParseException ex) {
            ex.printStackTrace();
        }
        campoDataPagamento.setToolTipText("");
        campoDataPagamento.setName("campoData"); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(244, 244, 244)
                                .addComponent(tituloTela1)
                                .addGap(0, 0, Short.MAX_VALUE))
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(labelEndereco2)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(campoDataPagamento, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(musculacao)
                                        .addGap(51, 51, 51)
                                        .addComponent(crossfit)
                                        .addGap(0, 0, Short.MAX_VALUE))
                                    .addComponent(campoAluno, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))))
                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                        .addGroup(layout.createSequentialGroup()
                            .addGap(209, 209, 209)
                            .addComponent(tituloTela3))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(32, 32, 32)
                            .addComponent(labelNome7)
                            .addGap(18, 18, 18)
                            .addComponent(campoLogin, javax.swing.GroupLayout.PREFERRED_SIZE, 205, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                            .addComponent(labelNome8)
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addComponent(campoSenha, javax.swing.GroupLayout.PREFERRED_SIZE, 245, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(291, 291, 291)
                            .addComponent(botaoSalvar))
                        .addGroup(layout.createSequentialGroup()
                            .addGap(111, 111, 111)
                            .addComponent(pilates))))
                .addGap(105, 105, 105))
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane3)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(9, 9, 9)
                .addComponent(tituloTela1, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 91, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(musculacao)
                            .addComponent(crossfit))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(labelEndereco2)
                            .addComponent(campoDataPagamento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(campoAluno, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(35, 35, 35)
                        .addComponent(tituloTela3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(campoLogin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(labelNome8)
                            .addComponent(campoSenha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(labelNome7))
                        .addGap(18, 18, 18)
                        .addComponent(botaoSalvar)
                        .addGap(9, 9, 9))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                        .addComponent(pilates)
                        .addGap(192, 192, 192))))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

     
    private void botaoSalvarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botaoSalvarActionPerformed
       Date dataHoraAtual = new Date();
       String data = new SimpleDateFormat("dd/MM/yyyy").format(dataHoraAtual);
         
       /*Modalidades*/
       ModalidadeLivre modalidadeLivre = new ModalidadeLivre(nomeModalidades,getValorTotal(),data);
       
       /*pagamento*/
       Pagamento pagamento = new Pagamento(campoDataPagamento.getText(),getValorTotal());
       Matricula matricula = new Matricula(campoLogin.getText(),campoSenha.getText(), modalidadeLivre, pagamento);
       listaMatricula.add(matricula);
       
       JOptionPane.showMessageDialog(null, "Incluido com sucesso!");
       limpar();
       
    }//GEN-LAST:event_botaoSalvarActionPerformed
    public boolean camposValidos(){
        /*if (textMatricula.getText().equals("")){
            JOptionPane.showMessageDialog(null, "Informe a matricula");
            return false;
        }
        else if (textNome.getText().equals("")){
            JOptionPane.showMessageDialog(null, "Informe o nome do aluno");
            return false;
        }
        else if (opcaoCurso.getSelectedIndex() < 0){
            JOptionPane.showMessageDialog(null, "Informe o curso");
            return false;
        }
        else */ 
            return true;
            
                  
    }
    private void formWindowOpened(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowOpened
        // TODO add your handling code here:
        /*opcaoCurso.removeAllItems();
        for (Curso c:listaCurso){
            opcaoCurso.addItem(c.getNomeCurso());
        }*/ 
    }//GEN-LAST:event_formWindowOpened

    private void musculacaoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_musculacaoActionPerformed
        // TODO add your handling code here:
        somaValorModalidade(250);
        nomeModalidades.add("musculação");
    }//GEN-LAST:event_musculacaoActionPerformed

    private void pilatesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pilatesActionPerformed
        // TODO add your handling code here:
        somaValorModalidade(200);
        nomeModalidades.add("musculação");
    }//GEN-LAST:event_pilatesActionPerformed

    private void crossfitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_crossfitActionPerformed
        // TODO add your handling code here:
        somaValorModalidade(100);
    }//GEN-LAST:event_crossfitActionPerformed
       
    public void limpar(){
        campoLogin.setText("");
        campoDataPagamento.setText("");
        pilates.setSelected(false);
        crossfit.setSelected(false);
        musculacao.setSelected(false);
    }
    /**
     * @param args the command line arguments
     */
   

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTable Tabela1;
    private javax.swing.JButton botaoSalvar;
    private javax.swing.JComboBox<String> campoAluno;
    private javax.swing.JFormattedTextField campoDataPagamento;
    private javax.swing.JTextField campoLogin;
    private javax.swing.JPasswordField campoSenha;
    private javax.swing.JCheckBox crossfit;
    private javax.swing.ButtonGroup grupoTurno;
    private javax.swing.JMenu jMenu1;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JLabel labelEndereco2;
    private javax.swing.JLabel labelNome7;
    private javax.swing.JLabel labelNome8;
    private javax.swing.JCheckBox musculacao;
    private javax.swing.JCheckBox pilates;
    private javax.swing.JLabel tituloTela1;
    private javax.swing.JLabel tituloTela3;
    // End of variables declaration//GEN-END:variables
}
